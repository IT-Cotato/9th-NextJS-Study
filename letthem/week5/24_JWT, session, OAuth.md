# JWT, session, OAuth

게시물을 로그인 한 사람만 볼 수 있게
회원 기능 필요

로그인 해서 입장권이 있어야 데이터 볼 수 있음

> **쿠키 저장소**에 입장권 숨겨놓음

# 입장권 만드는 방법

## 1. session

입장권에는 session id만 적혀있음. DB에는 아이디, 로그인 날짜, 유효기간, session id 있음.

### 👼 장점 : 유저의 GET/POST 요청마다 로그인 상태 체크 가능

### 🥵 단점 : 그만큼 DB 조회 많이 해야해서 DB가 힘들어 함 &rarr; 입출력 빠른 redis DB 사용하기도,,

## 2. token (JWT)

= JSON Web Token (JWT)
입장권에는 아이디, 로그인 날짜, 유효기간 등을 **암호화**해서 적혀있음.

### 👼 장점 : DB 조회 안 해도 됨! &rarr; 유저가 많거나 마이크로 서비스 운영 중이면 편함

### 🥵 단점 : 나쁜 사람이 JWT 훔쳐가면 로그인 막을 수 없음. 다른 컴퓨터 로그아웃 시키기도 어려움

## 3. OAuth

입장권은 아니고, 다른 사이트의 사용권한을 대여하는 것 - 소셜로그인 등
이메일, 이름, access token 등이 있음. 이걸로 회원기능 구현 가능

---

# Next.js에서 회원기능 구현

> **NextAuth.js, Auth.js** 등 라이브러리가 있기 때문에 간편!

- 소셜로그인(기본적으로 JWT)
- 아이디/비번 로그인(JWT 강제로 사용해야 함. Session 불가 - 보안이슈,,)
- JWT
- Session
- DB adapter(유저 정보 DB 보관 가능)

# ê¹€íƒœìœ¤

## âœ…Â Styled-Components

> GlobalStyles + ThemeProvider ì ìš©ë²•

### ì „ì²´ì ì¸ í´ë” êµ¬ì¡°

![Untitled](%E1%84%80%E1%85%B5%E1%86%B7%E1%84%90%E1%85%A2%E1%84%8B%E1%85%B2%E1%86%AB%20f68abd9e702647fc84248450c243a720/Untitled.png)

- lib/registry.tsx
  ```tsx
  /* lib/registry.tsx */

  'use client';

  import React, { useState } from 'react';
  import { useServerInsertedHTML } from 'next/navigation';
  import { ServerStyleSheet, StyleSheetManager } from 'styled-components';

  export default function StyledComponentsRegistry({
    children,
  }: {
    children: React.ReactNode;
  }) {
    const [styledComponentsStyleSheet] = useState(() => new ServerStyleSheet());

    useServerInsertedHTML(() => {
      const styles = styledComponentsStyleSheet.getStyleElement();
      styledComponentsStyleSheet.instance.clearTag();
      return <>{styles}</>;
    });

    if (typeof window !== 'undefined') return <>{children}</>;

    return (
      <StyleSheetManager sheet={styledComponentsStyleSheet.instance}>
        {children}
      </StyleSheetManager>
    );
  }
  ```
- components/Settings.tsx
  ```tsx
  'use client';

  import { GlobalStyles } from '@/styles/global-style';
  import { theme } from '@/styles/theme';
  import { ThemeProvider } from 'styled-components';

  export default function Setting({ children }: { children: React.ReactNode }) {
    return (
      <ThemeProvider theme={theme}>
        <GlobalStyles />
        {children}
      </ThemeProvider>
    );
  }
  ```
- styles
  - global-style.ts
    ```tsx
    import { createGlobalStyle } from 'styled-components';
    import reset from 'styled-reset';

    export const GlobalStyles = createGlobalStyle`
        ${reset}
        *{
            box-sizing: border-box;
        }
        a{
            text-decoration: none;
            color: inherit;
        }
        body{
            line-height: 1.2;
            font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            color: ${(props) => props.theme.black.darker};
        }
        button{
            border: 0;
            cursor: pointer;
        }
    `;
    ```
  - styled.d.ts
    ```tsx
    import 'styled-components';

    declare module 'styled-components' {
      export interface DefaultTheme {
        red: string;
        black: {
          veryDark: string;
          darker: string;
          lighter: string;
        };
        white: {
          lighter: string;
          darker: string;
        };
      }
    }
    ```
  - theme.ts
    ```tsx
    import { DefaultTheme } from 'styled-components';

    export const theme: DefaultTheme = {
      red: 'tomato',
      black: {
        veryDark: '#141414',
        darker: '#181818',
        lighter: '#2F2F2F',
      },
      white: {
        lighter: '#fff',
        darker: '#989898',
      },
    };
    ```
- next.config.mjs
  ```jsx
  /** @type {import('next').NextConfig} */

  const nextConfig = {
    compiler: {
      styledComponents: true,
    },
  };

  export default nextConfig;
  ```

### âœ…Â Layout.tsx

<aside>
ğŸ”¥ `ê³µì‹ë¬¸ì„œ` : [https://nextjs.org/docs/app/building-your-application/routing/pages-and-layouts#layouts](https://nextjs.org/docs/app/building-your-application/routing/pages-and-layouts#layouts)

</aside>

íŠ¹ì´í•œ ì ì´ ìˆë‹¤ë©´ `ìµœìƒìœ„`ì— ìˆëŠ” layout.tsxì˜ ê²½ìš° `html`, `body`íƒœê·¸ê°€ `ë°˜ë“œì‹œ í¬í•¨`ë˜ì–´ì•¼ í•œë‹¤

![Untitled](%E1%84%80%E1%85%B5%E1%86%B7%E1%84%90%E1%85%A2%E1%84%8B%E1%85%B2%E1%86%AB%20f68abd9e702647fc84248450c243a720/Untitled%201.png)

ğŸ‘‰ğŸ»Â  ìµœìƒìœ„ layoutì´ ì•„ë‹Œ ê²½ìš°

![Untitled](%E1%84%80%E1%85%B5%E1%86%B7%E1%84%90%E1%85%A2%E1%84%8B%E1%85%B2%E1%86%AB%20f68abd9e702647fc84248450c243a720/Untitled%202.png)

### âœ…Â ì´ë¯¸ì§€ ìµœì í™” (Styled-Components ì´ìš©)

1. import Image from 'next/image'; ì„ í†µí•´ `Image` ë¥¼ import
2. ItemImg = styled(Image)ì„ í†µí•´ ìƒì†
3. ItemImg íƒœê·¸ì— width, height ì†ì„± ì§€ì •

```tsx
'use client';

import styled from 'styled-components';
import Image from 'next/image';

const products = [
  { id: 1, name: 'í† ë§ˆí† ', pay: 40, imgs: '/imgs/food0.png' },
  { id: 2, name: 'íŒŒìŠ¤íƒ€', pay: 20, imgs: '/imgs/food1.png' },
  { id: 3, name: 'ì½”ì½”ë„›', pay: 30, imgs: '/imgs/food2.png' },
];

export default function List() {
  return (
    <Container>
      <Title>ìƒí’ˆëª©ë¡</Title>
      <ItemList>
        {products.map((item, index) => (
          <Item key={item.id}>
            <ItemImg
              src={`/imgs/food${index}.png`}
              alt={item.name}
              width={100}
              height={100}
            />
            {item.name} ${item.pay}
          </Item>
        ))}
      </ItemList>
    </Container>
  );
}

const Container = styled.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
`;
const Title = styled.h4`
  margin: 50px 0px;
`;
const ItemList = styled.ul``;
const ItemImg = styled(Image)`
  width: 100%;
  height: auto;
`;
const Item = styled.li`
  width: 200px;
  background-color: white;
  color: black;
  margin: 10px;
  border-radius: 5px;
  padding: 7px;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
`;
```

### âœ…Â server-component & client-component

<aside>
ğŸ”¥ ê¸°ë³¸ì ìœ¼ë¡œ íŒŒì¼ì„ ë§Œë“¤ë©´ `server-component` 
â€use clientâ€ ì‚¬ìš©ì‹œ `client-component` ë¡œ ëœë‹¤!

</aside>

ğŸ‘‰ğŸ»Â ì„œë²„ ì»´í¬ë„ŒíŠ¸

```tsx
- htmlì— ìë°”ìŠ¤í¬ë¦½íŠ¸ ê¸°ëŠ¥ ë„£ê¸° ë¶ˆê°€ëŠ¥!
- useState, useEffect ë“± ì‚¬ìš©ë¶ˆê°€
- ê·¸ ì´ìœ ëŠ” "use client"ê°€ ë¶™ì€ íŒŒì¼ë§Œ hydrateë˜ê¸° ë•Œë¬¸!

ê·¸ëŸ¼ ì„œë²„ ì»´í¬ë„ŒíŠ¸ ì™œ ë§Œë“¦?

-> ë¡œë”© ì†ë„ê°€ ë¹ ë¦„ -> ìë°”ìŠ¤í¬ë¦½íŠ¸ê¹Œì§€ ë¡œë”©í•  í•„ìš” ì—†ê¸°ë•Œë¬¸
-> ê²€ìƒ‰ì—”ì§„ ë…¸ì¶œ seo
```

ğŸ‘‰ğŸ»Â í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸

```tsx
ë¡œë”©ì‹œê°„ì´ ëŠë¦¼ -> "hydrate"ë˜ì•¼ í•˜ê¸° ë•Œë¬¸
```

ğŸ”¥Â ê²°ë¡ 

> í° í˜ì´ì§€ â†’ `ì„œë²„` ì»´í¬ë„ŒíŠ¸
>
> JS ê¸°ëŠ¥ í•„ìš”í•œ ë¶€ë¶„ â†’ `í´ë¼ì´ì–¸íŠ¸` ì»´í¬ë„ŒíŠ¸

### âœ…Â í´ë” êµ¬ì¡° - ê³µí†µ ë³€ìˆ˜

`shared` ë¼ëŠ” í´ë”ë¥¼ ì‚¬ìš©

`shared`ì—ëŠ” utils.tsì™€Â `type`,Â `interface`ì™€Â `enum`ë“¤ì´ ì‘ì„±ë˜ëŠ”Â `const.ts`ë¥¼ ì‘ì„±í•œë‹¤.

ìœ„ ì²˜ëŸ¼ í•˜ë©´ const.tsíŒŒì¼ì— export ì—¬ëŸ¬ê°œ ê°€ëŠ¥! â†’ ê°•ì˜ ì„¤ëª…ê³¼ëŠ” ë‹¬ë¦¬ 2ê°œì´ìƒ export ê°€ëŠ¥!
